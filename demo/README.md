# Papers3 æ¼”ç¤ºç¨‹åº

è¿™ä¸ªç›®å½•åŒ…å«äº† Papers3 çš„æ¼”ç¤ºå’Œæµ‹è¯•ç¨‹åºã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹

- **å®Œæ•´æµ‹è¯•æ¡†æ¶**: å…¨é¢çš„ç¡¬ä»¶åŠŸèƒ½æµ‹è¯•
- **å±å¹•èŒƒå›´æµ‹è¯•**: æµ‹è¯•å±å¹•çš„æœ‰æ•ˆæ˜¾ç¤ºåŒºåŸŸ
- **æ–‡æœ¬å¸ƒå±€æµ‹è¯•**: æµ‹è¯•ä¸åŒé—´è·ã€èµ·å§‹ä½ç½®çš„æ–‡æœ¬æ˜¾ç¤º
- **åæ ‡ç½‘æ ¼æ˜¾ç¤º**: æ˜¾ç¤ºå±å¹•åæ ‡ç³»ç»Ÿ
- **è¾¹ç•Œæ£€æµ‹**: æµ‹è¯•å±å¹•è¾¹ç¼˜æ˜¾ç¤ºæ•ˆæœ
- **å‚æ•°å¯è°ƒ**: æ”¯æŒè‡ªå®šä¹‰èµ·å§‹ç‚¹ã€é—´è·ã€è¡Œæ•°ç­‰å‚æ•°

## ğŸ“ æ–‡ä»¶è¯´æ˜

- `test.py` - å®Œæ•´çš„Papers3æµ‹è¯•æ¡†æ¶ (åŒ…å«æ‰€æœ‰ç¡¬ä»¶æ¨¡å—æµ‹è¯•)
- `screen_range_test.py` - å±å¹•èŒƒå›´æµ‹è¯•å·¥å…· (ä¸“é—¨ç”¨äºæ˜¾ç¤ºæµ‹è¯•)
- `README.md` - æœ¬è¯´æ˜æ–‡ä»¶

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### Papers3 å®Œæ•´æµ‹è¯•æ¡†æ¶ (test.py)

```python
# å¯¼å…¥æµ‹è¯•æ¨¡å—
import test

# åˆ›å»ºæµ‹è¯•å®ä¾‹
t = test.create_test()

# æŸ¥çœ‹å¸®åŠ©
t.help()

# åˆå§‹åŒ–ç¡¬ä»¶
t.init()

# è¿è¡ŒåŸºç¡€æµ‹è¯•
t.basic()

# ç¡¬ä»¶æ¨¡å—æµ‹è¯•
t.buzzer_test()    # èœ‚é¸£å™¨æµ‹è¯•
t.battery_test()   # ç”µæ± ç›‘æ§æµ‹è¯•
t.led_test()       # LEDæµ‹è¯•
t.gyro_test()      # é™€èºä»ªæµ‹è¯•
t.rtc_test()       # RTCæµ‹è¯•
t.touch_test()     # è§¦æ‘¸å±æµ‹è¯•

# æ˜¾ç¤ºåŠŸèƒ½æµ‹è¯•
t.simple_chinese() # ç®€å•ä¸­æ–‡æ˜¾ç¤ºæµ‹è¯•
t.display_test()   # åŸºç¡€æ˜¾ç¤ºæµ‹è¯•
t.chinese()        # ä¸­æ–‡å­—ä½“æµ‹è¯•
t.complex_display() # å¤æ‚æ˜¾ç¤ºæµ‹è¯•ï¼ˆç³»ç»ŸçŠ¶æ€ï¼‰
t.touch_paint()    # è§¦æ‘¸ç»˜å›¾æµ‹è¯•

# æ¼”ç¤ºå’Œæ¸…ç†
t.demo()           # æ¼”ç¤ºæ¨¡å¼
t.cleanup()        # æ¸…ç†æ‰€æœ‰èµ„æº
```

### å±å¹•èŒƒå›´æµ‹è¯•å·¥å…· (screen_range_test.py)

### æ–¹æ³•1: å¤åˆ¶åˆ°ESP32å¹¶è¿è¡Œ

1. **å¤åˆ¶æ–‡ä»¶åˆ°ESP32**:
   ```bash
   # ä½¿ç”¨ ampy å·¥å…·å¤åˆ¶æ–‡ä»¶
   ampy -p /dev/ttyUSB0 put screen_range_test.py
   
   # æˆ–ä½¿ç”¨é¡¹ç›®æä¾›çš„ä¸‹è½½è„šæœ¬ (æ¨è)
   ./scripts/download.sh
   ```

2. **åœ¨ESP32ä¸Šè¿è¡Œ**:
   ```python
   # è¿æ¥åˆ°ESP32çš„REPL
   import screen_range_test as srt
   
   # è¿è¡ŒåŸºç¡€æµ‹è¯•
   srt.test_basic()
   
   # è¿è¡Œç½‘æ ¼æµ‹è¯•
   srt.test_grid(100)
   
   # è¿è¡Œæ–‡æœ¬å¸ƒå±€æµ‹è¯•
   srt.test_text_layout(50, 50, 80, 6)
   
   # æ¸…ç†èµ„æº
   srt.cleanup()
   ```

### æ–¹æ³•2: å‡½æ•°å¼è°ƒç”¨

```python
import screen_range_test as srt

# æŸ¥çœ‹å¸®åŠ©
srt.help()

# åŸºç¡€å±å¹•èŒƒå›´æµ‹è¯•
srt.test_basic()

# ç½‘æ ¼æµ‹è¯• (100pxé—´è·)
srt.test_grid(100)

# æ–‡æœ¬å¸ƒå±€æµ‹è¯• (èµ·ç‚¹50,50, è¡Œè·80px, 6è¡Œ)
srt.test_text_layout(50, 50, 80, 6)

# è‡ªå®šä¹‰æµ‹è¯• (èµ·ç‚¹100,80, è¡Œè·70px, 5è¡Œ, å¸¦ç½‘æ ¼)
srt.test_custom(100, 80, 70, 5, True)

# è¾¹ç•Œæµ‹è¯•
srt.test_boundaries()

# æ¸…ç†èµ„æº
srt.cleanup()
```

### æ–¹æ³•3: ç±»æ–¹å¼è°ƒç”¨

```python
import screen_range_test

# åˆ›å»ºæµ‹è¯•å®ä¾‹
test = screen_range_test.ScreenRangeTest()

# åˆå§‹åŒ–
test.init()

# è¿è¡Œå„ç§æµ‹è¯•
test.test_basic()
test.test_grid(80)
test.test_text_layout(60, 70, 60, 7)

# æ¸…ç†
test.cleanup()
```

## ğŸ“± Papers3 å±å¹•å‚æ•°

- **åˆ†è¾¨ç‡**: 960 x 540 åƒç´ 
- **åæ ‡ç³»**: (0,0) ä¸ºå·¦ä¸Šè§’ï¼Œ(959,539) ä¸ºå³ä¸‹è§’
- **é¢œè‰²å€¼**: 
  - 0 = é»‘è‰²
  - 8 = ç°è‰²
  - 15 = ç™½è‰²

## ğŸ”§ æµ‹è¯•åŠŸèƒ½è¯¦è§£

### 1. åŸºç¡€æµ‹è¯• (`test_basic()`)
- æ˜¾ç¤ºå±å¹•è¾¹ç•Œæ¡†
- æ ‡è®°å››ä¸ªè§’è½å’Œä¸­å¿ƒç‚¹
- æ˜¾ç¤ºåæ ‡ä¿¡æ¯

### 2. ç½‘æ ¼æµ‹è¯• (`test_grid(size)`)
- æ˜¾ç¤ºåæ ‡ç½‘æ ¼
- å‚æ•°: `size` - ç½‘æ ¼é—´è· (é»˜è®¤100px)
- å¸®åŠ©ç†è§£åæ ‡ç³»ç»Ÿ

### 3. æ–‡æœ¬å¸ƒå±€æµ‹è¯• (`test_text_layout(x, y, spacing, lines)`)
- æµ‹è¯•æ–‡æœ¬é—´è·å’Œæ’åˆ—
- å‚æ•°:
  - `x, y` - èµ·å§‹åæ ‡ (é»˜è®¤50, 50)
  - `spacing` - è¡Œé—´è· (é»˜è®¤80px)
  - `lines` - è¡Œæ•° (é»˜è®¤6è¡Œ)

### 4. è‡ªå®šä¹‰æµ‹è¯• (`test_custom(x, y, spacing, lines, grid)`)
- è‡ªå®šä¹‰å‚æ•°çš„ç»¼åˆæµ‹è¯•
- å‚æ•°:
  - `x, y` - èµ·å§‹åæ ‡ (é»˜è®¤100, 80)
  - `spacing` - è¡Œé—´è· (é»˜è®¤70px)
  - `lines` - è¡Œæ•° (é»˜è®¤5è¡Œ)
  - `grid` - æ˜¯å¦æ˜¾ç¤ºç½‘æ ¼ (é»˜è®¤False)

### 5. è¾¹ç•Œæµ‹è¯• (`test_boundaries()`)
- æµ‹è¯•å±å¹•è¾¹ç¼˜æ˜¾ç¤ºæ•ˆæœ
- æ£€æŸ¥å„ä¸ªè¾¹ç•Œä½ç½®çš„æ–‡å­—æ˜¾ç¤º

## ğŸ› ï¸ å·¥å…·å®‰è£…å’Œä½¿ç”¨

### å®‰è£… ampy å·¥å…·

```bash
pip install adafruit-ampy
```

### å¤åˆ¶æ–‡ä»¶åˆ°ESP32

```bash
# æŸ¥çœ‹å¯ç”¨ä¸²å£
ls /dev/ttyUSB* 

# å¤åˆ¶å±å¹•èŒƒå›´æµ‹è¯•æ–‡ä»¶
ampy -p /dev/ttyUSB0 put screen_range_test.py

# å¤åˆ¶æ¼”ç¤ºæ–‡ä»¶
ampy -p /dev/ttyUSB0 put demo.py

# æŸ¥çœ‹ESP32ä¸Šçš„æ–‡ä»¶
ampy -p /dev/ttyUSB0 ls
```

### è¿æ¥ESP32 REPL

```bash
# ä½¿ç”¨ picocom è¿æ¥
picocom /dev/ttyUSB0 -b 115200

# æˆ–ä½¿ç”¨ screen
screen /dev/ttyUSB0 115200
```

### åœ¨ESP32ä¸Šè¿è¡Œ

```python
# åœ¨REPLä¸­è¿è¡Œ
>>> import screen_range_test as srt
>>> srt.help()
>>> srt.test_basic()
>>> srt.cleanup()

# æˆ–è¿è¡Œæ¼”ç¤º
>>> import screen_range_test as srt
>>> srt.demo_quick()
>>> srt.demo_interactive()
```

## ğŸ“Š æµ‹è¯•å‚æ•°å»ºè®®

### æ¨èçš„æµ‹è¯•å‚æ•°ç»„åˆ

```python
# æ ‡å‡†æµ‹è¯•
srt.test_text_layout(50, 50, 80, 6)

# å¯†é›†æ–‡æœ¬æµ‹è¯•
srt.test_text_layout(40, 40, 50, 10)

# å¤§å­—ä½“æµ‹è¯•
srt.test_text_layout(100, 100, 120, 4)

# å³ä¾§åŒºåŸŸæµ‹è¯•
srt.test_text_layout(500, 60, 70, 7)

# ç½‘æ ¼è¾…åŠ©æµ‹è¯•
srt.test_custom(80, 60, 60, 8, True)
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ–‡æœ¬æ˜¾ç¤ºä¸å®Œæ•´æˆ–è¢«æˆªæ–­
A: è°ƒæ•´ `start_x` å’Œ `start_y` å‚æ•°ï¼Œç¡®ä¿æ–‡æœ¬ä¸è¶…å‡ºå±å¹•è¾¹ç•Œ

### Q: è¡Œé—´è·å¤ªå°ï¼Œæ–‡å­—é‡å 
A: å¢åŠ  `line_spacing` å‚æ•°ï¼Œå»ºè®®æœ€å°å€¼ä¸º50px

### Q: æ˜¾ç¤ºå™¨åˆå§‹åŒ–å¤±è´¥
A: æ£€æŸ¥ papers3 æ¨¡å—æ˜¯å¦æ­£ç¡®å®‰è£…å’Œé…ç½®

### Q: ç¨‹åºè¿è¡Œåæ²¡æœ‰æ˜¾ç¤º
A: ç¡®ä¿è°ƒç”¨äº† `update()` æ–¹æ³•æ›´æ–°å±å¹•æ˜¾ç¤º

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç”µå­å¢¨æ°´å±ç‰¹æ€§**: æ›´æ–°è¾ƒæ…¢ï¼Œæ¯æ¬¡æµ‹è¯•åå»ºè®®ç­‰å¾…å‡ ç§’
2. **èµ„æºç®¡ç†**: æµ‹è¯•å®Œæˆåè®°å¾—è°ƒç”¨ `cleanup()` æ¸…ç†èµ„æº
3. **åæ ‡èŒƒå›´**: ç¡®ä¿åæ ‡åœ¨ (0,0) åˆ° (959,539) èŒƒå›´å†…
4. **æ–‡æœ¬é•¿åº¦**: è¿‡é•¿çš„æ–‡æœ¬ä¼šè¢«è‡ªåŠ¨æˆªæ–­ï¼Œå»ºè®®å•è¡Œä¸è¶…è¿‡25ä¸ªå­—ç¬¦

## ğŸ¨ æ‰©å±•ä½¿ç”¨

ä½ å¯ä»¥åŸºäºè¿™ä¸ªå·¥å…·å¼€å‘è‡ªå·±çš„æ˜¾ç¤ºæµ‹è¯•ç¨‹åº:

```python
import screen_range_test as srt

# è·å–æµ‹è¯•å®ä¾‹
test = srt._get_test_instance()

# ç›´æ¥ä½¿ç”¨EPDiyå¯¹è±¡
epd = test.epdiy
epd.clear()
epd.draw_text("è‡ªå®šä¹‰æ–‡æœ¬", 100, 100, 0)
epd.update()

# æ¸…ç†
srt.cleanup()
```

## ğŸ¤ è´¡çŒ®

å¦‚æœä½ å‘ç°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿æäº¤issueæˆ–pull requestã€‚ 